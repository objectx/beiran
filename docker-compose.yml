# This docker-compose is for development environment
version: '2'
services:
  beirand:
    image: dkr.rsnc.io/poc/beiran/daemon:dev
    build: .
    privileged: true
    volumes:
     - /var/run/docker.sock:/var/run/docker.sock
     - /var/lib/docker:/var/lib/docker
     - ./beiran:/opt/beiran/beiran:ro
     - ./beiran_cli:/opt/beiran/beiran_cli:ro
     - ./beirand:/opt/beiran/beirand:ro
     - ./plugins:/opt/beiran/plugins:ro
    network_mode: host
    environment:
      - DISCOVERY_METHOD=zeroconf
      - LISTEN_ADDR=0.0.0.0
      - DISCOVERY_SERVICE_ADDRESS=beirand
      - LOG_LEVEL=INFO
